{"mappings":"AAIA,MAAMA,EAAeC,SAASC,cAAc,gBACtCC,EAAcF,SAASC,cAAc,cACrCE,EAAYH,SAASC,cAAc,YAQnCG,EAAoB,ICdX,MAMbC,gBACE,IACE,OAAOC,MACL,qEAAqEC,KAAKC,qCAAqCD,KAAKE,oBAEnHC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJN,KAAKE,MAAQ,EAEbK,QAAQC,IAAIF,GACLA,EAAKG,QAEhB,MAAOC,GACPH,QAAQI,IAAI,SAAUD,IAI1BE,YACEZ,KAAKE,KAAO,EAGVW,YACF,OAAOb,KAAKC,YAGVY,UAAMC,GACRd,KAAKC,YAAca,EA/BrBC,cACEf,KAAKC,YAAc,GACnBD,KAAKE,KAAO,IDqChB,SAASc,EAAoBP,GAC3B,MAAMQ,EAASR,EACZS,KACCC,GAAO,yCACCA,EAAIC,sBAAsBD,EAAIE,6FAG1BF,EAAIG,mEAGJH,EAAII,sEAGDJ,EAAIK,0EAGHL,EAAIM,8CAKrBC,KAAK,IAER9B,EAAU+B,mBAAmB,YAAaV,GA/C5CzB,EAAaoC,iBAAiB,UAG9B,SAAkBC,GAChBA,EAAIC,iBA+CJlC,EAAUmC,UAAY,GA5CtBlC,EAAkBgB,MAChBgB,EAAIG,cAAcC,SAASC,UAAU,eAAeC,MACtDtC,EAAkBe,YAElBf,EAAkBC,gBAAgBK,MAAKM,IACrCF,QAAQI,IAAIF,GACZO,EAAoBP,SAZxBd,EAAYiC,iBAAiB,SAgB7B,WACE/B,EAAkBC,gBAAgBK,MAAKM,IACrCF,QAAQI,IAAIF,GACZO,EAAoBP","sources":["src/index.js","src/js-components/pixabay-API.js"],"sourcesContent":["import './css/styles.css';\nimport PixabayApiService from './js-components/pixabay-API';\n\n// const APIKEY = '29521518-5bff3e3ab528698c58648398d';\nconst searchFormEl = document.querySelector('.search-form');\nconst loadMoreBtn = document.querySelector('.load-more');\nconst galleryEl = document.querySelector('.gallery');\n\n// const options = {\n//   headers: {\n//     Accept: 'application/json',\n//   },\n// };\n\nconst pixabayApiService = new PixabayApiService();\n\nsearchFormEl.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n  clearPictureContainer();\n\n  pixabayApiService.query =\n    evt.currentTarget.elements.namedItem('searchQuery').value;\n  pixabayApiService.resetPage();\n\n  pixabayApiService.fetchPictures().then(hits => {\n    console.log(hits);\n    appendPictureMarkup(hits);\n  });\n}\n\nfunction onLoadMore() {\n  pixabayApiService.fetchPictures().then(hits => {\n    console.log(hits);\n    appendPictureMarkup(hits);\n  });\n}\n\nfunction appendPictureMarkup(hits) {\n  const markup = hits\n    .map(\n      hit => `<div class=\"photo-card\">\n  <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${hit.likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${hit.views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${hit.comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${hit.downloads}</b>\n    </p>\n  </div>\n</div>`\n    )\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearPictureContainer() {\n  galleryEl.innerHTML = '';\n}\n","export default class PixabayApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchPictures() {\n    try {\n      return fetch(\n        `https://pixabay.com/api/?key=29521518-5bff3e3ab528698c58648398d&q=${this.searchQuery}&image_type=photo&page=${this.page}&per_page=40`\n      )\n        .then(response => response.json())\n        .then(data => {\n          this.page += 1;\n\n          console.dir(data);\n          return data.hits;\n        });\n    } catch (error) {\n      console.log('error:', error);\n    }\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$searchFormEl","document","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$pixabayApiService","fetchPictures","fetch","this","searchQuery","page","then","response","json","data","console","dir","hits","error","log","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$appendPictureMarkup","markup","map","hit","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","evt","preventDefault","innerHTML","currentTarget","elements","namedItem","value"],"version":3,"file":"index.a193e5ba.js.map"}